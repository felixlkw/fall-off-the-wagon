# 작심삼일 RUN DAO - 프로젝트 분석 & 개발 전략

## 📋 FRD 분석을 통한 핵심 의도 파악

### 1. **Web2.5 전략의 명확한 의도**
```
기존 Web3 앱의 문제점: 지갑 생성 → 토큰 구매 → 가스비 → 복잡성으로 인한 높은 이탈률

해결책 (Web2.5):
소셜로그인 → 커스터디 지갑 자동생성 → 백그라운드 블록체인 처리
= "블록체인을 모르는 사용자도 쉽게 사용"
```

**개발 우선순위 변경 필요**:
- 기존 계획: Metamask 연동 우선
- **새로운 방향**: 소셜로그인 + 커스터디 지갑 우선 (FR-AC-01, FR-AC-02)

### 2. **비즈니스 모델의 섬세한 설계**
```
단순 "실패 시 돈 잃음" → 복잡한 분배 정책:
- 성공자 분배: x% (동기부여)  
- DAO 공익: y% (사회적 의미)
- 프로토콜 수수료: z% (지속가능성)
```

**핵심 통찰**: 실패해도 "완전 손실"이 아닌 "사회 기여"로 포지셔닝하여 심리적 부담 완화

### 3. **치팅 방지의 3중 검증 시스템**
```
Level 1: 다중 센서 (GPS + 심박 + 가속도) - FR-DI-03
Level 2: AI 이상탐지 (비현실적 패턴 차단) - FP<3%, TP>90%  
Level 3: 피어리뷰 (커뮤니티 검증) - FR-DI-04
```

**기술적 도전**: 이상탐지 AI 모델 구축이 MVP 성공의 핵심

### 4. **실패자 재참여 유도 메커니즘**
```
기존: 실패 → 이탈
개선: 실패 3회 → "라이트 퀘스트" 자동 추천 (정책 11번)
= 성공 경험 축적 → 자신감 회복 → 재도전
```

## 🎯 개발 전략 재조정

### Phase 1 (MVP) - 8주 계획 수정

#### Week 1-2: 기반 인프라 (기존과 동일)
- [x] Hono + Cloudflare D1 + Polygon zkEVM 환경
- [x] 기본 스마트컨트랙트 (QuestFactory, EscrowVault)

#### Week 3-4: Web2.5 온보딩 우선 구현
**변경사항**: 커스터디 지갑을 먼저 구현
```typescript
// 우선순위 변경
1. FR-AC-01: 소셜 로그인 (Apple/Google/Kakao)
2. FR-AC-02: 커스터디 지갑 자동 생성 (MPC/KMS)
3. FR-AC-03: 외부 지갑 연결 (후순위로 이동)
```

#### Week 5-6: 크루 & 퀘스트 핵심 로직
```typescript
// 데이터 모델 우선 구현
- User, Crew, Quest, Participation 테이블
- FR-CR-01~03: 프로필/크루 생성/가입
- FR-QS-01~02: 퀘스트 생성/참여
```

#### Week 7-8: 러닝 데이터 연동 + 기본 정산
```typescript
// 최소 기능으로 검증
- FR-DI-01~02: Strava/Google Fit 연동
- FR-ST-01~02: 예치금 보관/자동 정산
- 이상탐지는 간단한 규칙 기반 (AI는 Phase 2)
```

### 기술 아키텍처 결정사항

#### 1. **커스터디 지갑 기술 선택**
```
옵션 A: Privy (추천)
- 소셜로그인 + MPC 지갑 자동 생성
- React 컴포넌트 제공
- Polygon 지원

옵션 B: Magic SDK
- 이메일 기반 지갑 생성
- 더 간단하지만 제한적

옵션 C: 자체 구현 (KMS + 서명 서비스)
- 완전한 제어 가능
- 개발 복잡도 높음
```

**추천**: Privy로 MVP 구현 → 추후 자체 솔루션 고도화

#### 2. **러닝 데이터 아키텍처**
```
데이터 파이프라인:
Strava/Garmin API → Webhook/Polling → 정규화 → 이상탐지 → DB저장

이상탐지 점진적 구현:
Phase 1: 기본 규칙 (속도/거리 임계값)
Phase 2: ML 모델 (패턴 분석)  
Phase 3: 고도화 (다중센서 융합)
```

#### 3. **스마트 컨트랙트 설계 원칙**
```
가스 최적화:
- Merkle Tree로 대량 정산 배치 처리
- 상태 변경 최소화 (event 로그 활용)
- EIP-1559 기반 동적 가스비 조정

업그레이드 전략:
- Proxy Pattern (UUPS)
- Timelock + Multisig 거버넌스
- 점진적 권한 이양 (중앙화 → DAO)
```

## 📊 핵심 성공 지표 재정의

### MVP 검증 목표
```
기술적 지표:
- 온보딩 완료율 90%+ (소셜로그인 → 첫 퀘스트 참여)
- 정산 자동화 성공률 99%+
- 앱 성능 p95 < 1.2초

비즈니스 지표:
- 실패자 재참여율 40%+ (핵심 차별화 지표)
- 퀘스트 완주율 65%+ (기존 앱 대비 향상)
- 크루 활성화율 70%+ (개인 → 팀 전환)

사용자 경험 지표:
- NPS 50+ (추천 의향)
- 일주일 retention 70%+
- 한 달 retention 40%+
```

### 위험 요소 & 대응 전략

#### 1. **규제 리스크**
```
문제: 토큰/스테이킹의 도박성 논란
대응: 
- 교육적 가치 강조 (건강 증진)
- 실물 리워드 비중 확대
- 지역별 차등 정책 (현금성 vs 포인트성)
```

#### 2. **치팅 방지 복잡성**
```
문제: 완벽한 치팅 방지는 불가능
대응:
- 80-20 원칙 (대부분 정직한 사용자 + 소수 악용자)
- 커뮤니티 자정 작용 활용 (신고/피어리뷰)
- 점진적 보안 강화 (ML 학습 데이터 축적)
```

#### 3. **토큰 경제 안정성**
```
문제: 토큰 가격 변동성
대응:
- USDC 스테이블코인 기본 사용
- RUN 토큰은 거버넌스/보너스용 (필수 아님)
- 실물 파트너십으로 내재가치 확보
```

## 🚀 우선 구현할 핵심 기능 정리

### 1순위 (MVP 필수)
```
✅ 소셜 로그인 + 커스터디 지갑 (FR-AC-01, 02)
✅ 크루 생성/가입 (FR-CR-01~03)  
✅ 퀘스트 생성/참여 (FR-QS-01~02)
✅ 러닝 데이터 연동 (FR-DI-01~02)
✅ 기본 정산 + NFT (FR-ST-01~02, 04)
```

### 2순위 (핵심 차별화)
```
🔄 AI 이상탐지 고도화 (FR-DI-03)
🔄 실패자 재참여 유도 시스템
🔄 Kudos + 크루 포인트 (FR-SC-01)
🔄 실물 리워드 연동 (FR-ST-05)
```

### 3순위 (스케일링)
```
⭐ 피어리뷰 시스템 (FR-DI-04)
⭐ 운영자 콘솔 완성 (FR-AD-01~04)
⭐ RUN 토큰 + 거버넌스
```

## 💡 다음 단계 제안

현재 FRD를 바탕으로 다음 중 어떤 방향으로 진행하시겠습니까?

### A. 기술 검증 우선 (추천)
```
목적: 핵심 가설 빠른 검증
기간: 2-3주
범위: 소셜로그인 → 퀘스트 생성 → 스테이킹 → 정산 → NFT
```

### B. UI/UX 프로토타입 우선  
```
목적: 사용자 플로우 시각화
기간: 1-2주  
범위: 화면 정의서 기반 인터랙티브 프로토타입
```

### C. 스마트컨트랙트 완성 우선
```
목적: 온체인 로직 확정
기간: 2-4주
범위: 가스 최적화 + 보안 감사 + 테스트넷 배포
```

**개인적 추천**: **A번 (기술 검증)**
- Web2.5 온보딩의 사용성 검증
- 실패자 재참여 가설 검증  
- 투자자 데모 준비

어떤 방향으로 진행하고 싶으신지 의견을 주시면, 구체적인 개발 계획을 수립하겠습니다.